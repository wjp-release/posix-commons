# 我的C项目的编程范式

1. 对象分为两种，用户可见，用户不可见。前者struct定义在头文件里，用户可以自行管理其内存分配方式。后者struct定义在源文件里，用户只能通过函数和这个对象的指针接触这个对象。

2. xxx_init(), xxx_close()适用于用户可见对象。xxx_create(), xxx_destroy()适用于用户不可见对象。后者才真正malloc或free这个对象，前者只是析构对象内部的成员变量。

3. 一般编译单元里禁止全局变量的定义。所有全局变量统一放在一处定义、初始化。

4. 函数返回指针时，NULL表示失败。通常check_success的那种函数，返回true表成功，返回false表失败（这样比传统的0，-1更方便if判断）。函数决不会返回errorno，涉及errorno的代码自行消化errorno判断与处理。

5. 若函数只是简单返回一个值，且必然成功，则这个函数名中要有get。

6. 用户可见的函数和结构体统一采用posixc_作为前缀，命名采用全部小写加下划线的风格。

7. 使用pragma once和//注释，总之一切以简便为准。

8. 代码紧凑，增加一屏内信息量。

9. 实现代码如果不是算法精奇，就少加注释，让代码本身做到self-explanatory。